---
tags:
  - Authentication
summary: User login
description: >
  Authenticates user credentials and returns JWT access token, refresh token, and user data.
  User must have verified their email before logging in.
consumes:
  - application/json
produces:
  - application/json
parameters:
  - in: body
    name: body
    description: User login credentials
    required: true
    schema:
      type: object
      required:
        - email
        - password
      properties:
        email:
          type: string
          format: email
          description: User's email address
          example: "user@example.com"
        password:
          type: string
          format: password
          description: User's password
          example: "password123"

responses:
  200:
    description: Login successful
    schema:
      type: object
      properties:
        message:
          type: string
          example: "Login successful"
        access_token:
          type: string
          description: JWT access token (expires in 1 hour)
          example: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
        refresh_token:
          type: string
          description: Refresh token for obtaining new access tokens
          example: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
        expires_in:
          type: integer
          description: Access token expiration time in seconds
          example: 3600
        user:
          type: object
          properties:
            id:
              type: string
              format: uuid
              example: "123e4567-e89b-12d3-a456-426614174000"
            email:
              type: string
              example: "user@example.com"
            role:
              type: string
              example: "customer"
            first_name:
              type: string
              example: "John"
            last_name:
              type: string
              example: "Doe"
            phone:
              type: string
              example: "555-1234"
  401:
    description: Invalid credentials or email not verified
    schema:
      type: object
      properties:
        error:
          type: string
          example: "Invalid login credentials"
  400:
    description: Validation error
    schema:
      type: object
      properties:
        error:
          type: string
          example: "Validation failed"
        details:
          type: array
          description: Validation error details
  500:
    description: Internal server error
    schema:
      type: object
      properties:
        error:
          type: string
          example: "Login failed"

